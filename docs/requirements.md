# 要件定義書 (Requirements for "X-like" Web Application)

## 概要
本システムは、Twitter(現X)と同様のマイクロブログSNS機能を提供するWebアプリケーションである。  
ユーザーはアカウント登録を行い、テキストや画像を含む投稿(Tweet)を行い、他のユーザーをフォローし、タイムライン上で相互の投稿を閲覧できる。  
また、リツイート・いいね・リプライなどのリアクション、ダイレクトメッセージ、通知、検索、トレンド表示、プロフィール編集などの機能を提供する。

## 対象機能一覧
1. **ユーザーアカウント管理**
   - ユーザー登録 (メールアドレス/パスワード、またはOAuth)
   - ログイン/ログアウト機能
   - パスワードリセット (メールによる再設定)
   - プロフィール編集 (表示名、ユーザー名、プロフィール画像、自己紹介文、ヘッダー画像など)

2. **投稿 (Tweet) 機能**
   - テキスト(最大文字数280文字程度を想定)、画像、GIF、動画投稿機能
   - 投稿の表示、削除、編集(編集は後からのオプション機能として検討)
   - リプライ機能(他ユーザーのTweetへコメント)

3. **フィード (タイムライン)**
   - 自分がフォローしているユーザーの投稿が時系列表示されるホームタイムライン
   - 自分自身の投稿のみを表示するユーザータイムライン
   - 定期的あるいはリアルタイムでの更新(ウェブソケットまたはポーリング)

4. **フォロー/フォロワー管理**
   - 任意ユーザーのフォロー/フォロー解除
   - フォロワー/フォロー中のユーザー一覧表示
   - 非公開アカウント (リクエスト承認制) 機能は後続拡張

5. **リアクション機能**
   - いいね(Like)
   - リツイート(Retweet)
   - リツイート時に引用リツイート機能（Quote RT）

6. **通知 (Notification)**
   - いいね、リツイート、リプライ、フォローなどのイベントによる通知
   - 通知リスト表示
   - 未読数管理

7. **ダイレクトメッセージ (DM)**
   - ユーザー間でのプライベートメッセージ送受信
   - 1対1のチャットインターフェース
   - メッセージ履歴表示

8. **検索・トレンド**
   - 投稿検索（キーワード検索、ハッシュタグ検索）
   - トレンドトピック表示(特定アルゴリズムによる人気ワード抽出)
   - ユーザー検索

9. **UI/UX要件**
   - レスポンシブデザイン (モバイル/タブレット/PC)
   - リアルタイム更新（WebSocketまたはServer-Sent Events）
   - ダークモード/ライトモード切替（拡張要件）

10. **パフォーマンス・スケーラビリティ要件**
    - 大規模ユーザー対応のためのスケーラビリティ（今後の拡張）
    - CDN活用（画像や静的ファイル配信）
    - キャッシュ戦略（Redis等による）
    - Docker化とk8s等へのデプロイを想定

11. **セキュリティ要件**
    - JWTやOAuth 2.0/OpenID Connectによる認証
    - HTTPS対応(本番環境)
    - CSRF対策、XSS対策、SQLインジェクション防止(Prisma ORM, Parameterized Queries)
    - パスワードハッシュ化(BCrypt等)

12. **開発・運用要件**
    - Node.js + Expressをバックエンド、Next.js + Reactをフロントエンドに採用
    - データベースはPostgreSQLを想定(PrismaをORMとして使用)
    - TypeScript導入（後続回で移行する可能性あり、当初はJavaScriptで開始可）
    - Lint/Formatツール（ESLint, Prettier）
    - Dockerコンテナ化対応
    - ユニットテスト・E2Eテスト導入（Jest, Playwright想定）

上記要件は今後のステップで詳細化・分割実装する。
